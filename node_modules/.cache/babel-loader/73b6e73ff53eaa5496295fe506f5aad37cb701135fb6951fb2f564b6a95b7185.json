{"ast":null,"code":"import React,{createContext,useState}from\"react\";import all_product from\"../Components/Assets/all_product\";import{jsx as _jsx}from\"react/jsx-runtime\";export const ShopContext=/*#__PURE__*/createContext(null);const getDefaultCart=()=>{let cart={};for(let i=0;i<all_product.length;i++){cart[i]=0;}return cart;};const ShopContextProvider=props=>{const[cartItems,setCartItems]=useState(getDefaultCart());// console.log(cartItems)\nconst addToCart=itemId=>{setCartItems(prev=>({...prev,[itemId]:prev[itemId]+1}));console.log(cartItems);};const removeFromCart=itemId=>{setCartItems(prev=>({...prev,[itemId]:prev[itemId]-1}));};const getTotalCartAmount=()=>{let totalAmount=0;for(const item in cartItems){if(cartItems[item]>0){let itemInfo=all_product.find(product=>product.id===Number(item));totalAmount+=itemInfo.new_price*cartItems[item];}}return totalAmount;};const getTotalCartItems=()=>{let totalItem=0;for(const item in cartItems){if(cartItems[item]>0){totalItem+=cartItems[item];}}return totalItem;};const contextValue={all_product,cartItems,addToCart,removeFromCart,getTotalCartAmount,getTotalCartItems};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:props.children});};export default ShopContextProvider;","map":{"version":3,"names":["React","createContext","useState","all_product","jsx","_jsx","ShopContext","getDefaultCart","cart","i","length","ShopContextProvider","props","cartItems","setCartItems","addToCart","itemId","prev","console","log","removeFromCart","getTotalCartAmount","totalAmount","item","itemInfo","find","product","id","Number","new_price","getTotalCartItems","totalItem","contextValue","Provider","value","children"],"sources":["C:/Users/PUGALENTHI/Desktop/inter/react/e-comm/E-Commerce-React/src/Context/ShopContext.jsx"],"sourcesContent":["import React, { createContext, useState } from \"react\";\r\nimport all_product from \"../Components/Assets/all_product\";\r\nexport const ShopContext = createContext(null);\r\n\r\nconst getDefaultCart = ()=>{\r\n\r\n    let cart = {};\r\n    for(let i=0;i<all_product.length;i++)\r\n    {\r\n        cart[i] = 0;\r\n    }\r\n    return cart;\r\n}\r\n\r\nconst ShopContextProvider = (props) => {\r\n    \r\n\r\n    const [cartItems,setCartItems] = useState(getDefaultCart());\r\n   \r\n    // console.log(cartItems)\r\n    \r\n    const addToCart = (itemId) => {\r\n        setCartItems(\r\n            (prev)=>({...prev,[itemId]:prev[itemId]+1})\r\n        );\r\n        console.log(cartItems);\r\n    }\r\n\r\n    const removeFromCart = (itemId) => {\r\n        setCartItems(\r\n            (prev)=>({...prev,[itemId]:prev[itemId]-1})\r\n        );\r\n    }\r\n\r\n    const getTotalCartAmount = () =>{\r\n        let totalAmount = 0;\r\n        for(const item in cartItems){\r\n            if(cartItems[item]>0)\r\n            {\r\n                let itemInfo = all_product.find((product)=>product.id===Number(item));\r\n                totalAmount += itemInfo.new_price * cartItems[item];\r\n            }\r\n        }\r\n        return totalAmount;   \r\n    }\r\n\r\n    const getTotalCartItems = ()=>{\r\n        let totalItem = 0;\r\n        for(const item in cartItems){\r\n            if(cartItems[item]>0){\r\n                totalItem+=cartItems[item];\r\n            }\r\n        }\r\n        return totalItem;\r\n    }\r\n\r\n\r\n    const contextValue = {all_product,cartItems,addToCart,removeFromCart,getTotalCartAmount,getTotalCartItems};\r\n    \r\n    return(\r\n        <ShopContext.Provider value={contextValue}>\r\n            {props.children}\r\n        </ShopContext.Provider>\r\n    )\r\n}\r\n\r\nexport default ShopContextProvider;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,KAAQ,OAAO,CACtD,MAAO,CAAAC,WAAW,KAAM,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAC3D,MAAO,MAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,IAAI,CAAC,CAE9C,KAAM,CAAAM,cAAc,CAAGA,CAAA,GAAI,CAEvB,GAAI,CAAAC,IAAI,CAAG,CAAC,CAAC,CACb,IAAI,GAAI,CAAAC,CAAC,CAAC,CAAC,CAACA,CAAC,CAACN,WAAW,CAACO,MAAM,CAACD,CAAC,EAAE,CACpC,CACID,IAAI,CAACC,CAAC,CAAC,CAAG,CAAC,CACf,CACA,MAAO,CAAAD,IAAI,CACf,CAAC,CAED,KAAM,CAAAG,mBAAmB,CAAIC,KAAK,EAAK,CAGnC,KAAM,CAACC,SAAS,CAACC,YAAY,CAAC,CAAGZ,QAAQ,CAACK,cAAc,CAAC,CAAC,CAAC,CAE3D;AAEA,KAAM,CAAAQ,SAAS,CAAIC,MAAM,EAAK,CAC1BF,YAAY,CACPG,IAAI,GAAI,CAAC,GAAGA,IAAI,CAAC,CAACD,MAAM,EAAEC,IAAI,CAACD,MAAM,CAAC,CAAC,CAAC,CAAC,CAC9C,CAAC,CACDE,OAAO,CAACC,GAAG,CAACN,SAAS,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAO,cAAc,CAAIJ,MAAM,EAAK,CAC/BF,YAAY,CACPG,IAAI,GAAI,CAAC,GAAGA,IAAI,CAAC,CAACD,MAAM,EAAEC,IAAI,CAACD,MAAM,CAAC,CAAC,CAAC,CAAC,CAC9C,CAAC,CACL,CAAC,CAED,KAAM,CAAAK,kBAAkB,CAAGA,CAAA,GAAK,CAC5B,GAAI,CAAAC,WAAW,CAAG,CAAC,CACnB,IAAI,KAAM,CAAAC,IAAI,GAAI,CAAAV,SAAS,CAAC,CACxB,GAAGA,SAAS,CAACU,IAAI,CAAC,CAAC,CAAC,CACpB,CACI,GAAI,CAAAC,QAAQ,CAAGrB,WAAW,CAACsB,IAAI,CAAEC,OAAO,EAAGA,OAAO,CAACC,EAAE,GAAGC,MAAM,CAACL,IAAI,CAAC,CAAC,CACrED,WAAW,EAAIE,QAAQ,CAACK,SAAS,CAAGhB,SAAS,CAACU,IAAI,CAAC,CACvD,CACJ,CACA,MAAO,CAAAD,WAAW,CACtB,CAAC,CAED,KAAM,CAAAQ,iBAAiB,CAAGA,CAAA,GAAI,CAC1B,GAAI,CAAAC,SAAS,CAAG,CAAC,CACjB,IAAI,KAAM,CAAAR,IAAI,GAAI,CAAAV,SAAS,CAAC,CACxB,GAAGA,SAAS,CAACU,IAAI,CAAC,CAAC,CAAC,CAAC,CACjBQ,SAAS,EAAElB,SAAS,CAACU,IAAI,CAAC,CAC9B,CACJ,CACA,MAAO,CAAAQ,SAAS,CACpB,CAAC,CAGD,KAAM,CAAAC,YAAY,CAAG,CAAC7B,WAAW,CAACU,SAAS,CAACE,SAAS,CAACK,cAAc,CAACC,kBAAkB,CAACS,iBAAiB,CAAC,CAE1G,mBACIzB,IAAA,CAACC,WAAW,CAAC2B,QAAQ,EAACC,KAAK,CAAEF,YAAa,CAAAG,QAAA,CACrCvB,KAAK,CAACuB,QAAQ,CACG,CAAC,CAE/B,CAAC,CAED,cAAe,CAAAxB,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}